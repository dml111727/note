# 模板模式

钩子方法？实现流程的微调，开关方法。

策略模式：注重客户的选择，不关心过程，只有选择权

模板模式：更关心的是过程，并干预过程，执行过程已经制定好了。

### 例子

炒菜，1.洗菜 2.切菜 3腌制(可能有) 4.下佐料 5.蒸煮 6。翻炒  7.出锅

1. 烹饪抽象类

```java
package com.dml.pattern.tempalte.cooking;

/**
 * @author dml111727
 * @version 1.0
 * @Date 2021/7/15 0015 23:20
 * @describe 烹饪
 */
public abstract class AbstractCooking {

    public void cooking(String food) {
        // 1.洗菜
        washingVegetables(food);
        // 2.切菜
        cutUpVegetables(food);
        // 3.腌制
        if (needPickle()) {
            pickle(food);
        }
        // 4.下佐料
        seasoning(food);

        // 蒸煮
        if (needSteaming()) {
            steaming(food);
        }
        // 5.翻炒
        if (needStir()) {
            stir(food);
        }

        // 6.出锅
        outOfThePot(food);
    }

    protected abstract boolean needStir();


    protected void steaming(String food) {
        System.out.println("清蒸：" + food);
    }

    protected abstract boolean needSteaming();

    private void outOfThePot(String food) {
        System.out.println(food + "已经出锅");
    }

    protected void stir(String food) {
        System.out.println("正在炒:" + food);
    }


    protected abstract void seasoning(String food);


    private void pickle(String food) {
        System.out.println("腌制：" + food);
    }

    // 钩子方法
    protected abstract boolean needPickle();


    protected void cutUpVegetables(String food) {
        System.out.println("切：" + food);
    }

    protected void washingVegetables(String food) {
        System.out.println("清洗：" + food);
    }


}

```

2. 清蒸鱼类：

```java
package com.dml.pattern.tempalte.cooking;

/**
 * @author dml111727
 * @version 1.0
 * @Date 2021/7/15 0015 23:32
 * @describe
 */
public class SteamedFish extends AbstractCooking {

    protected boolean needStir() {
        return false;
    }

    protected boolean needSteaming() {
        return true;
    }

    protected void seasoning(String food) {
        System.out.println("放料酒和姜");
    }

    protected boolean needPickle() {
        return true;
    }
}
```

3. 炒蔬菜

```java
package com.dml.pattern.tempalte.cooking;

/**
 * @author dml111727
 * @version 1.0
 * @Date 2021/7/15 0015 23:44
 * @describe
 */
public class Vegetables extends AbstractCooking {
    protected boolean needStir() {
        return true;
    }

    protected boolean needSteaming() {
        return false;
    }

    protected void seasoning(String food) {
        System.out.println("放油、放盐、" + food);
    }

    protected boolean needPickle() {
        return false;
    }
}
```

4.测试类

```java
package com.dml.pattern.tempalte.cooking;

/**
 * @author dml111727
 * @version 1.0
 * @Date 2021/7/15 0015 23:41
 * @describe
 */
public class CookingTest {
    public static void main(String[] args) {
        System.out.println("清蒸鱼");
        new SteamedFish().cooking("鲈鱼");
        System.out.println("============");
        System.out.println("炒空心菜");
        new Vegetables().cooking("空心菜");
    }
}
```

类图：

![image-20210716000154675](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210716000154675.png)

